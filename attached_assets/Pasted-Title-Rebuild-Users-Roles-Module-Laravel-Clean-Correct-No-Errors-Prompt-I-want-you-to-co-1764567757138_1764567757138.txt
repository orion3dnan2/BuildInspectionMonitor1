Title: Rebuild Users & Roles Module (Laravel) – Clean, Correct, No Errors

Prompt:

I want you to completely remove the current Users & Permissions system from the project and rebuild it again from scratch in a clean and professional way.

Follow these instructions very strictly:

1) Remove old system

Delete all old user-related controllers, models, migrations, views, seeds.

Delete any roles/permissions packages, traits, middlewares, helpers, or unused files.

Clean all repeated or unnecessary code.

Make sure no file references old user tables or old logic.

2) Create a new Users system (Laravel Breeze or Laravel UI)

Rebuild a fresh users module with the following fields:

Field	Type
name	string
username	string UNIQUE
password	hashed
rank	string
office	string
role	enum('admin','inspector')

Requirements:

Fully working Register, Login, Logout

Admin can create, edit, delete users

Inspector can only login and access allowed pages

3) Create a clean Roles & Permissions system

Do NOT use spatie package.

Implement simple role checking:

admin → access all pages

inspector → restricted pages only

Create middleware:

AdminMiddleware to protect admin routes

Apply middleware correctly on routes.

4) Generate migrations

Create a new clean migration for the users table.

Ensure the table matches the fields above exactly.

Add timestamps.

Add UNIQUE index for username.

5) Views

Rebuild simple Blade views:

login page

register page

users list

edit user

create user

Make the design simple, clean, and error-free.

6) Testing

Before finishing:

Test login with wrong credentials

Test admin creating and editing users

Test inspector cannot access admin pages

Ensure no route, view, or controller errors

Ensure CSRF and sessions work correctly

7) Final Cleanup

Remove any unused files or duplicated code

Ensure folder structure is clean

Confirm everything runs with no errors on Laravel + MySQL

Output:
Deliver the updated project with new clean files, working migrations, controllers, routes, middleware, and views.
Make sure the new system is 100% functional with no leftover code.